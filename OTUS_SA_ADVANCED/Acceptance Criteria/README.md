 - [Miro (полная версия)](https://miro.com/welcomeonboard/TW0xZXBtOEEwaVpBNWJIcnZEcW1qYkJuNWN1RFJwcG0xd2FzZzVBa2VDTDU3bmhNdzRRN2FnZDRiU2FvTkRLSnwzNDU4NzY0NTIzNjk5NzU4NDczfDI=?share_link_id=699446562339)

**Декомпозиция US** 

| №     | User Strory                                                                                                                 | Декомпозиция                                                                                                                                                                                                                                                                                                                                                                                       |
| ----- | --------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 01 | Я как клиент<br>ХОЧУ ознакомиться с меню<br>ЧТОБЫ выбрать блюдо                                                             | 1\. Изучение ассортимента ресторана (категории меню, актуальные позиции, детализация по блюдам, состав)<br>2\. Проектирование модели БД (ER диаграмма для меню ресторана)<br>3\. Написание DDL скриптов для создания сущностей и ETL для вставки данных<br>4\. Интеграция базы данных с интерфейсом приложения                                                                                     |
| US 09 | Я как клиент<br>ХОЧУ зарегистрироваться в программе лояльности<br>ЧТОБЫ копить и списывать бонусные баллы при оплате заказа | 1\. Изучение бизнес-правил к программе лояльности<br>2\. Разработка плана верификации пользователя для последующей регистрации / авторизации через приложения в программе лояльности<br>3\. Разработка алгоритма калькулятора баллов для программы лояльности<br>4\. Написание DDL скриптов для создания сущностей и ETL для вставки данных<br>5\. Интеграция базы данных с интерфейсом приложения |

**Acceptance Criteria** 

| №     | User Strory                                                                                                                      | AC                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ----- | -------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 01 | Я как клиент<br>ХОЧУ ознакомиться с меню<br>ЧТОБЫ выбрать блюдо                                                                  | 1\. Интерфейс должен отображать детализацию по блюдам в разрезе категорий<br>2\. Интерфейс должен отображать только те позиции, которые есть в наличии<br>3\. Информация о составе блюда должна быть доступна для просмотра в системе                                                                                                                                                                                                                             |
| US 02 | Я как клиент<br>ХОЧУ добавить блюда в корзину<br>ЧТОБЫ его приготовили                                                           | 1\. Кнопка добавления блюда в корзину должна быть активна, если позиция есть в наличии<br>2\. При добавлении блюд в корзину должен отображаться счетчик кол-ва позиций и их общая стоимость<br>3\. При добавлении блюда в корзину, клиент должен видеть подтверждение о том, что блюдо успешно добавлено                                                                                                                                                          |
| US 03 | Я как клиент<br>ХОЧУ оплатить заказа<br>ЧТОБЫ получить еду                                                                       | 1\. Система должна подтвердить успешную оплату заказа и отобразить информацию об этом пользователю.<br>2\. Оплата заказа должна быть доступна после добавления как минимум 1 блюда в корзину<br>3\. При неудачной оплате система должна предложить повторить операцию пользователю сохранив выбранные позиции в корзине                                                                                                                                           |
| US 04 | Я как клиент<br>ХОЧУ получить чек с номером заказа<br>ЧТОБЫ узнать готовность заказа и получить его после готовности показав чек | 1\. Чек заказа должен содержать все детали заказа (номер заказа, время заказа, позиции заказа, детали оплаты заказа)<br>2\. Система должна распечатать чек (если заказ сделан через терминал) и отправить чек заказа в электронном виде на почту клиента<br>3\. Номер заказа на чеке должен быть уникальным и соответствовать номеру заказа в системе                                                                                                             |
| US 05 | Я как клиент<br>ХОЧУ редактировать позиции в корзине<br>ЧТОБЫ скорректировать заказ                                              | 1\. Пользователю должна быть доступна возможность редактировать кол-во позиций в корзине (добавлять / удалять)<br>2\. При удалении / добавлении позиций в корзине система должна пересчитывать стоимость заказа и отображать изменения в интерфейсе<br>3\. Система должна выставлять ограничения на кол-во определенных позиций для одного заказа                                                                                                                 |
| US 06 | Я как клиент<br>ХОЧУ выбрать способ получения заказа<br>ЧТОБЫ забрать заказ удобным способом                                     | 1\. Система должна предоставлять выбор получения заказа (с собой / в ресторане)<br>2\. Система должна выставлять ограничения на получение заказа для определенных позиций и уведомлять об этом пользователя<br>3\. При подтверждении заказа система должна отображать информация о месте выдачи (заказы «с собой» и «в ресторане» выдаются на разных кассах)                                                                                                      |
| US 07 | Я как клиент<br>ХОЧУ выбрать способ оплаты заказа<br>ЧТОБЫ оплатить заказ удобным способом                                       | 1\. Оплата может быть сделана картой VISA / MASTERCARD / МИР<br>2\. Тип карты определяется автоматически в процессе ввода<br>3\. Оплату можно произвести наличными                                                                                                                                                                                                                                                                                                |
| US 08 | Я как клиент<br>ХОЧУ зарегистрироваться в программе лояльности<br>ЧТОБЫ копить и списывать бонусные баллы при оплате заказа      | 1\. При регистрации система должна направлять код верификации на почту или номер телефона клиенту<br>2\. Если клиент уже зарегистрирован система должна предложить сбросить пароль<br>3\. После регистрации система должна отображать баланс бонусных баллов в программе лояльности клиенту                                                                                                                                                                       |
| US 09 | Я как клиент<br>ХОЧУ обратиться к менеджеру<br>ЧТОБЫ получить ответы на вопросы                                                  | 1\. При создании обращения клиент должен выбрать категорию обращения из выпадающего списка<br>2\. После отправки заявки система должна отобразить номер обращения клиенту<br>3\. После отправки заявки система должна отобразить примерное время ответа менеджера                                                                                                                                                                                                 |
| US 10 | Я как клиент<br>ХОЧУ отменить заказ<br>ЧТОБЫ вернуть свои деньги                                                                 | 1\. Пользователь должен иметь возможность отменить заказ до момента его обработки и подтверждения.<br>2\. При отмене заказа пользователю должно быть предоставлено уведомление о возможности возврата денег и сроках, в течение которых это будет выполнено.<br>3\. После успешной отмены заказа пользователю должно быть автоматически возвращено полное или частичное погашение средств на тот же способ оплаты, который был использован при оформлении заказа. |


**Макет интерфейса**

![Image alt](https://github.com/dmatwe/projects/blob/main/OTUS_SA_ADVANCED/WireFrame/WireFrame.png)


**Постановка для для разработчиков в Gherkin**

| №     | User Strory                                                     | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ----- | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 01 | Я как клиент<br>ХОЧУ ознакомиться с меню<br>ЧТОБЫ выбрать блюдо | 1\. Сценарий просмотра меню<br>GIVEN пользователь смотрит список категорий<br>WHEN пользователь переходит на вкладку каталог<br>THEN пользователю отображается <список категорий><br><br>2\. Сценарий просмотра блюд из категории<br>GIVEN пользователь смотрит позиции категории «Бургеры»<br>WHEN пользователь инициирует переход на категорию «Бургеры»<br>THEN пользователю отображается <список бургеров><br><br>3\. Сценарий поиска бургера, которого нет в наличии<br>GIVEN пользователь ищет Бургер 5, который он заказывал в прошлый раз, но в данный момент позиция закончилась<br>WHEN пользователь инициирует переход на категорию «Бургеры»<br>THEN пользователю отображается <список бургеров><br>AND система не отображает бургер 5, так как его нет в наличии<br> |

**Списки**

| Список категорий | Список бургеров |
| ---------------- | --------------- |
| Бургеры          | Бурегр 1        |
| Напитки          | Бургер 2        |
| Десерты          | Бургер 3        |
| Гарниры          | Бургер 4        |
| Комбо            | Бургер 5        |
| Акции            | Бургер 6        |


| №     | User Strory                                                                | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----- | -------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 02 | Я как клиент<br>ХОЧУ добавить блюда в корзину<br>ЧТОБЫ его приготовили<br> | 1\. Сценарий добавления блюда в корзину<br>GIVEN пользователь добавляет блюдо в корзину<br>WHEN пользователь инициирует добавление блюда в корзину<br>THEN пользователю отображается успешное добавление блюда в корзину<br>AND срабатывает счетчик кол-ва позиций и их общая стоимость заказа<br><br>2\. Сценарий добавления блюда в корзину, которого временно нет в наличии<br>GIVEN пользователь пытается добавить блюдо в корзину, которого временно нет в наличии<br>WHEN пользователь пытается инициировать добавление блюда в корзину, которого временно нет в наличии<br>THEN кнопка добавления в корзину неактивна |

Нет в наличии – означает, что позиции не будет в наличии в ближайшее время, такие позиции не отображаются в интерфейсе клиента

Временно нет в наличии - означает, что позиции нет в наличии, но в ближайшее время появятся, такие позиции отображаются, но кнопка добавить в корзину неактивна 



| №     | User Strory                                                | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----- | ---------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 03 | Я как клиент<br>ХОЧУ оплатить заказа<br>ЧТОБЫ получить еду | 1\. Сценарий оплата заказа<br>GIVEN пользователь оплачивает заказ<br>WHEN пользователь инициирует оплату заказа<br>THEN пользователю отображается уведомление успешной оплаты заказа<br><br>2\. Сценарий невозможной оплаты заказа<br>GIVEN пользователь пытается оплатить пустой заказ<br>WHEN пользователь инициирует переход в корзину<br>THEN пользователю отображается информация, что корзина пуста и оплата невозможна<br><br>3\. Сценарий неудачной оплаты заказа<br>GIVEN пользователь пытается оплатить заказ<br>WHEN пользователь инициирует оплату заказа<br>THEN пользователю отображается информация об ошибке и предлагается вернуться назад в корзину для повторной попытки<br> |



| №     | User Strory                                                                                                                      | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ----- | -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 04 | Я как клиент<br>ХОЧУ получить чек с номером заказа<br>ЧТОБЫ узнать готовность заказа и получить его после готовности показав чек | 1\. Сценарий получения чека<br>GIVEN пользователь оплатил заказ и получает чек<br>WHEN пользователю отображается уведомление успешной оплаты заказа<br>THEN система печатает чек (если заказ сделан через терминал)<br>AND отправляет чек заказа в электронном виде на почту клиента<br><br>2\. Сценарий получения чека если заказ сделан через терминал, но печать невозможна из-за технических неполадок<br>GIVEN пользователь оплатил заказ и получает чек только в электронном виде<br>WHEN пользователю отображается уведомление успешной оплаты заказа<br>THEN пользователю отображается информация о сбое печати чека и об отправке эл. чека на почту<br>AND система отправляет чек заказа в электронном виде на почту клиента<br><br>3\. Сценарий генерации чека<br>GIVEN пользователь оплатил заказ и система генерирует чек<br>WHEN пользователю отображается уведомление успешной оплаты заказа<br>THEN генерирует чек с атрибутами: номер заказа, время заказа, позиции заказа, способ оплаты заказа<br> |


| №     | User Strory                                                                         | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----- | ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US 05 | Я как клиент<br>ХОЧУ редактировать позиции в корзине<br>ЧТОБЫ скорректировать заказ | 1\. Сценарий редактирования позиций в корзине<br>GIVEN пользователь редактирует позиции заказа в корзине<br>WHEN пользователь удаляет / добавлять позиции в корзине<br>THEN система пересчитывает стоимость заказа<br>AND отображает изменения в интерфейсе<br><br>2\. Сценарий ограничения добавления кол-ва позиции в корзину<br>GIVEN Система ограничивает добавление кол-ва позиции в корзину<br>WHEN пользователь добавляет максимальное кол-во позиции в корзину<br>THEN кнопка добавления позиции в корзину становится не активна<br><br>3\. Сценарий удаления позиции из корзины<br>GIVEN пользователь удаляет позицию из корзины<br>WHEN пользователь удаляет все кол-во позиции из корзины (счетчик кол-ва = 0)<br>THEN позиция полностью удаляется из корзины<br> |


| №     | User Strory                                                                                  | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ----- | -------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| US 06 | Я как клиент<br>ХОЧУ выбрать способ получения заказа<br>ЧТОБЫ забрать заказ удобным способом | 1\. Сценарий выбора подачи<br>GIVEN пользователь выбирает способ подачи<br>WHEN пользователь выбирает <Способ подачи><br>THEN система отображает <Место выдачи><br><br>2\. Сценарий ограничения на получение заказа для определенных позиций из списка <Только в ресторане><br>GIVEN Система ограничивает получение заказа для позиций из списка <Только в ресторане><br>WHEN пользователь добавил в корзину позиции из списка <Только в ресторане> и переходит на вкладку выбора получения заказа<br>THEN система отражает только один возможный способ подачи «в ресторане» |


| Способ подачи | Место выдачи | Только в ресторане    |
| ------------- | ------------ | --------------------- |
| с собой       | Касса  №1    | XXL ICE CREAM         |
| в ресторане   | Касса  №2    | SUPER MEGA BURGER 420 |


| №     | User Strory                                                                                | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----- | ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| US 07 | Я как клиент<br>ХОЧУ выбрать способ оплаты заказа<br>ЧТОБЫ оплатить заказ удобным способом | 1\. Сценарий выбора оплаты<br>GIVEN пользователь выбирает способ оплаты<br>WHEN пользователь переходит на страницу оплаты заказа<br>THEN система отображает <Способы оплаты><br>AND предлагает произвести <операции над баллами><br><br>2\. Сценарий выбора оплаты «картой»<br>GIVEN пользователь выбирает способ оплаты «картой»<br>WHEN пользователь выбирает способ оплаты «картой»<br>THEN система отображает необходимые поля ввода (ФИО, Номер карты, CVV)<br>AND определяет <Тип карты><br><br>3\. Сценарий выбора оплаты «наличными»<br>GIVEN пользователь выбирает способ оплаты «наличными»<br>WHEN пользователь выбирает способ оплаты «наличными»<br>THEN система отображает свободную <Касса для оплаты> для внесения средств |


| Способы оплаты | Тип карты         | Касса для оплаты | Операции над баллами |
| -------------- | ----------------- | ---------------- | -------------------- |
| картой         | VISA / MASTERCARD | Касса №1         | Списать              |
| наличными      | Мир               | Касса №2         | Начислить            |