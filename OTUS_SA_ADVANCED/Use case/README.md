**Use Case диаграмма** 

![Image alt](https://github.com/dmatwe/projects/blob/main/OTUS_SA_BASIC/6.%20Use%20case/usecase_crm_drawio.png)

**Название** : Оформить возврат

**Область действия:** Менеджер зала – система

**Уровень цели:** цель пользователя

**Основное действующее лицо:** Менеджер зала 

**Участники и интересы:**

- Менеджер зала – Оформить клиенту отмену заказа, закрыть обращение
- Клиент – Отменить заказ и вернуть средства

**Предусловие:** Поступило обращение клиента на отмену заказа

**Мин гарантии:** Обращение клиента успешно закрыто

**Гарантии успеха:** Заказ клиента успешно отменен, средства возвращены, обращение закрыто

**Основной сценарий:**

1. Система оповещает менеджера зала о поступлении обращения от клиента на отмену заказа
2. Менеджер зала открывает заявку клиента в системе и меняет статус заказа на "отменен"
3. Система направляет информацию об отмене заказа на производство и сообщает об успешной отмене заказа
4. Менеджер выбирает способ возврата средств клиенту
5. Система подтверждает операцию и закрывает обращение


**Расширения**

3.1. Система не находит номер активного заказа на производстве, так как клиент уже получил заказ

    3.1.1. Менеджер передает информацию об отмене заказа на кассу 

    3.1.2. Система направляет оповещение клиенту о готовности принять возврат заказа на кассе 

4.1. Заказ был оплачен картой 

    4.1.1. Менеджер выбирает в системе способ возврата средств на карту

    4.1.2. Система направляет оповещение клиенту о возврате средств на карту

4.2. Заказ был оплачен наличными 

    4.2.1. Менеджер выбирает в системе способ возврата средств наличными на кассе

    4.2.2. Система направляет информацию о возврате средств наличными на кассу и оповещает клиента о возможности получения возврата средств на кассе

**Исключение**

Отказ в возврате средств за заказ, поскольку обращение не соответствует условиям возврата