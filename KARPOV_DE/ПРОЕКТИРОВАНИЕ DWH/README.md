**Методологии**
<br/>
[1. DWH по Инмону](#m1)
<br/>
[2. DWH по Кимбаллу](#m2)
<br/>
[3. Data Vault](#m3)
<br/>
[4. ANCHOR MODELING](#m4)
<br/>


**DWH по Инмону**
<a name="m1"></a>

DWH – это корпоративное централизованное хранилище данных

Проектирование ХД модели “сверху вниз”.

Тщательный анализ бизнеса в целом

Выявляются бизнес-области

В них - ключевые бизнес-сущности

Затем - их характеристики (атрибуты) и связи между ними.

В результате анализа появляется понимание, какие сущности участвуют в бизнес-процессах и как они взаимодействуют друг с другом.

**Преимущества:**

«Единая версия правды»

Отсутствие противоречивости в данных

Детальный слой содержит проекцию бизнес-процессов

Легко поддерживать при увеличении количества источников

**Недостатки:**

Сложная в проектировании, нужна высококлассная команда

Долгая в реализации на первоначальном этапе анализа бизнеса


![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/Инмон_пример.png)

![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/karpov-по%20Инмону.drawio.png)




**DWH по Кимбаллу**
<a name="m2"></a>

DWH по Кимбаллу - копия транзакционных данных, специально структурированных для запроса и анализа в виде витрин данных.

Хранилище по Кимбаллу можно назвать коллекцией витрин данных (отчетов).

Проектирование снизу вверх:

Анализ потребностей – узнаем, какие отчеты нужны

Анализ источников – узнаем, в каких источниках есть данные

Проектируем витрину под конкретного потребителя

Первичные данные из источников преобразуются в витрины

**Преимущества:**

Быстрый эффект

Достаточно поэтапного анализа бизнес-областей

Не требует высококвалифицированных специалистов (на старте)


**Недостатки:**

Высокая стоимость поддержки новых источников

Отсутствие стандартизации показателей (в каждой витрине может быть свой алгоритм)

![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/Кимбалл_пример.png)

![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/karpov-по%20Кимбаллу.drawio.png)



**Из чего состоит Data Vault**
<a name="m3"></a>

Методология DV (Data Vault) вводит и регламентирует следующие типы таблиц:

Хаб (Hub) – хранит сущности.

Связь (Link) – обеспечивает транзакционную интеграцию между Хабами (связи между сущностями).

Сателлит (Satellite) – предоставляет контекст первичного ключа Хаба (атрибуты, описания).
С версии 2.0 (мы рассмотрим эти типы позже):

Мост (Bridge) – упрощает соединение данных через несколько связей.

PIT (point in time) – упрощает получение информации из саттелитов одной сущности с разной 
частотой обновления.

Predefined Derivations представляет собой предрассчитанные значения.

![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/karpov-DATA%20VAULT.drawio.png)


**Из чего состоит ANCHOR MODELING**
<a name="m4"></a>

Anchor (Якорь) — это существительное, объект реального мира.

Anchor таблица должна хранить только суррогатный ключ и несколько технических полей (система-источник, дата-время загрузки).

Пример — товар, пользователь, платеж.

Attribute (Атрибут) — это таблица для хранения свойства, атрибута объекта

Пример — название товара, логин и дата рождения пользователя, суммы платежа.

Одно свойство у объекта — одна Attribute-таблица.

Каждая Attribute-таблица содержит суррогатный ключ объекта, которым является ссылка на соответствующий Anchor, поле для значения атрибута, и, опционально, дату для историчности и технические поля.

Tie (Связь) — это таблица для хранения связей между объектами.

Таблица должна содержать суррогатный ключ левого объекта (customer_id), правого объекта (country_id) и, по необходимости, даты историчности и технических полей.

Knot (Узел) — таблица-состояние, справочник. Узлы можно рассматривать как сочетание якоря и одного атрибута.

Пример – справочник, в котором содержатся поля:


| Anchor                                                                                                                                                    | Tie                                                                                                 | Attribute                                                                                                                                                                                                                                                |
| --------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Anchor (Якорь) — это существительное,<br>объект реального мира.<br>Anchor таблица должна хранить:<br>суррогатный ключ,<br>временная отметку даты загрузки | Tie (Связь) — это таблица для хранения<br>связей между объектами.<br>У Tie не может быть атрибутов! | Attribute (Атрибут) —<br>это таблица для хранения свойства, атрибута объекта,<br>при этом на каждое свойство ровно одна таблица.<br>Каждая Attribute-таблица содержит:<br>суррогатный ключ, временная отметку даты загрузки,<br>непосредственно значение |


![Image alt](https://github.com/dmatwe/projects/blob/main/KARPOV_DE/ПРОЕКТИРОВАНИЕ%20DWH/karpov-ANCHOR%20MODELING.drawio.png)
