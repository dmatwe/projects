**Бизнес требования:**

| Стейкхолдер                                    | Бизнес требование                                                                                                            |
| ---------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| Мастер                                         | Оптимизировать процесс заполнения формы заказ-наряд                                                                          |
|                                                | Своевременно получать запчасти и расходные материалы для выполнения работ                                                    |
|                                                | Возможность планирования работ для предотвращения срыва сроков                                                               |
|                                                | Оплату труда сделать более прозрачной                                                                                        |
|                                                | Возможность отслеживания наличия запчастей и расходных материалов на складе мастерской                                       |
|                                                | Оптимизировать процесс обучения новых сотрудников (структурированная информация в базе знаний)                               |
| Менеджер                                       | Оптимизировать процесс заполнения отчетности учета движения и расхода запасных частей                                        |
|                                                | Наладить коммуникацю со складом для поставки запчастей                                                                       |
|                                                | Предоставить возможность анализа остатков запчастей и материалов<br>на складе мастероской для пронозирования будущих закупок |
|                                                | Структурировать информацию по клиентам, сегментирование<br>(напрмер по маркам авто / частота посещений / средний чек)        |
|                                                | Возможность отслеживания наличия запчастей на складах соседних мастерских<br>и оперативного взаимодействия друг с другом     |
|                                                | Оптимизировать процесс заполнения отчетности учета времени мастеров,<br>и количество/виды проделанных работ по машинам       |
| Финансовый директор<br>холдинга автомастерских | Структурировать отчетность для эффективного мониторинга основных показателей и метрик<br>по всем департаментам               |
|                                                | Разработать регламент согласования при закупках для предотвращения проблем<br>с излишками и недостачами                      |
|                                                | Оптимизировать логистику с центрального склада на СТО / мастерскую                                                           |

**Контекстная диаграмма:**

![Image alt](https://github.com/dmatwe/projects/blob/main/OTUS_SA_BASIC/2.%20БТ_Контекстная_диаграмма/Контекстная%20диаграмма.png)


**Матрица трассировки для всех требований проекта**

| Стейкхолдер        | Бизнес-требование                                                        | Проблемы (трудность, которую мы выявили)                                                                  | Потребности (чему препятствует проблема)                          | Требования к системе (в системе должно быть...)                                                                                       | Приоритет |
| ------------------ | ------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| IT директор        | Перевести складские процессы в электронный вид<br>для увеличения прибыли | Информация по всем направлениям<br>не структурирована, хранится в разных форматах                         | получение структурированной информации                            | Хранить большой обьем данных                                                                                                          | 1         |
|                    |                                                                          |                                                                                                           |                                                                   | Возможность разграничивать роли и доступ                                                                                              | 2         |
|                    |                                                                          |                                                                                                           |                                                                   | Выгружать отчеты на основе введенных данных                                                                                           | 1         |
|                    |                                                                          | Проблемы со связью                                                                                        | Постоянный доступ к системе                                       | Система должна постоянно работать в режиме real-time<br>и в случае сбоев уведомлять пользователя                                      | 1         |
| Завскладом         | Перевести складские процессы в электронный вид<br>для увеличения прибыли | Проблема закупки / хранения неликвидных запчастей                                                         | корректная информация о запчастях и заказчиках                    | Необходима информация о заказчике, о заказе деталей                                                                                   | 1         |
|                    |                                                                          |                                                                                                           |                                                                   | требования к заполнению формы для заказа                                                                                              | 1         |
|                    |                                                                          |                                                                                                           |                                                                   | Необходима информация по минимальному объему деталей для выполнения работ, система должна отслеживать не снижаемые остатки            | 1         |
|                    |                                                                          | ведется документация на бумаге и неструкутрировано                                                        | получение структурированной информации                            | Выгружать отчеты на основе введенных данных                                                                                           | 1         |
|                    |                                                                          | Путаница с местами хранения деталей и номенклатурой                                                       | порядок в номенклатуре и в хранении деталей                       | система должна хранить справочник<br>уникальных идентификаторов для каждой детали,<br>Идентификацировать слоты для хранения деталей   | 2         |
| Админнистратор СТО | Перевести складские процессы в электронный вид<br>для увеличения прибыли | Нет актуальной информировании по наличию З/Ч от склада.                                                   | <br>Оперативное получение информации о наличии З/Ч на складе.     | Единый справочник З/Ч                                                                                                                 | 1         |
|                    |                                                                          | Информация не структурирована, хранится в разных форматах,<br>невозможность формирования отчетности.      | Быстрое получение отчетности.                                     | Выгружать отчеты на основе введенных данных                                                                                           | 1         |
|                    |                                                                          |                                                                                                           | Быстро и корректно сформировать Заказ-наряд.                      | Единый справочник выполняемых работ и мастеров                                                                                        | 1         |
| Менеджер СТО       | Перевести складские процессы в электронный вид<br>для увеличения прибыли | Проблемы со своевременной поставкой запчастей<br>(недостаток, долгий срок поставки) с центральным складом | Своевременное корректное формирование заказа в системе            | возможность видеть остатки на складе                                                                                                  | 1         |
|                    |                                                                          |                                                                                                           | Видеть статус заказа                                              | Отображение в системе состояния и сроков доставки заказа с цс                                                                         | 1         |
|                    |                                                                          |                                                                                                           | ускорить сроки доставки заказа                                    | Возможность передать заказ на запчасти на склад                                                                                       | 1         |
|                    |                                                                          | Некорректное заполнение фактуры                                                                           | Исключить ошибки человеческого фактора<br>при формировании заказа | Единая форма заказа запчастей и расходников                                                                                           | 1         |
|                    |                                                                          |                                                                                                           |                                                                   | Автозаполнение из классификаторов и каталогов                                                                                         | 2         |
| Мастер СТО         | Перевести складские процессы в электронный вид<br>для увеличения прибыли | Нет актуальной информации по наличию З/Ч                                                                  | Корректная информация о запчастях                                 | Возможность отслеживания наличия запчастей и расходных<br>материалов на складе мастерской                                             | 1         |
|                    |                                                                          | Нет времени на заполнение заказа-наряд                                                                    | Оптимизировать процесс заполнения формы заказ-наряд               | Cистема должна интегрироваться с планшетами мастеров,<br>в которых должен быть user-friendly интерфейс для быстрого заполнения заявки | 1         |
|                    |                                                                          | Нет точной информации по работам                                                                          | Актуальная информация по работам                                  | Система должна отображать список работ, затраченное время и статус                                                                    | 2         |


**ER диаграмма:**

![Image alt](https://github.com/dmatwe/projects/blob/main/OTUS_SA_BASIC/4.%20ER_диаграмма/ER_диаграмма.png)

**Описание сущностей**

| Сущность          | Описание сущности              | Атрибут           | Описание атрибута                   |
| ----------------- | ------------------------------ | ----------------- | ----------------------------------- |
| order             | Заказ-наряд                    | order_id          | Идентификатор заказа-наряда         |
|                   |                                | client_id         | Идентификатор клиента               |
|                   |                                | car_id            | Идентификатор авто                  |
|                   |                                | workshop_id       | Идентификатор мастерской/СТО        |
|                   |                                | status            | Статус заказа-наряда                |
|                   |                                | date              | Дата оформления                     |
| order_items_count | Список запчастей в заказ-наряд | order_id          | Идентификатор заказа-наряда         |
|                   |                                | item_id           | Идентификатор запчастей             |
|                   |                                | count             | Кол-во запчастей                    |
| items_count       | Кол-во запчастей на складах    | item_id           | Идентификатор запчасти              |
|                   |                                | storage_id        | Идентификатор склада                |
|                   |                                | count             | Кол-во запчастей                    |
|                   |                                | date_start        | Дата начала записи                  |
|                   |                                | date_end          | Дата конца записи                   |
| dim_items         | Справочник запчастей           | item_id           | Идентификатор детали                |
|                   |                                | item_name         | Наименование детали                 |
| dim_storage       | Справочник складов             | storage_id        | Идентификатор склада                |
|                   |                                | type              | Тип склада                          |
|                   |                                | storage_location  | Адрес склада                        |
| dim_workshop      | Справочник Мастерских/СТО      | workshop_id       | Идентификатор мастерской/СТО        |
|                   |                                | type              | Тип (мастерская/СТО)                |
|                   |                                | workshop_location | Адрес мастерской/СТО                |
|                   |                                | storage_id        | Идентификатор склада                |
| dim_client        | Справочник клиентов            | client_id         | Идентификатор клиента               |
|                   |                                | first_name        | Имя                                 |
|                   |                                | last_name         | Фамилия                             |
| dim_car           | Справочник авто                | car_id            | Идентификатор авто                  |
|                   |                                | client_id         | Идентификатор клиента               |
|                   |                                | mark              | Марка авто                          |
|                   |                                | model             | Модель авто                         |
|                   |                                | year              | Год выпуска авто                    |
|                   |                                | gos_number        | Гос-номер авто                      |
| order_work_time   | Учет времени работ сотрудников | order_id          | Идентификатор заказа-наряда         |
|                   |                                | employee_id       | Идентификатор сотрудника            |
|                   |                                | work_type_id      | Идентификатор типа работ            |
|                   |                                | timestamp_start   | Время начала работ                  |
|                   |                                | timestamp_end     | Время окончания работ               |
|                   |                                | status            | Статус работ                        |
| dim_work_type     | Справочник типов работ         | work_type_id      | Идентификатор типа работ            |
|                   |                                | work_type         | Наименование типа работ             |
| order_work_type   | Типы работ в заказ-наряд       | work_type_id      | Идентификатор типа работ            |
|                   |                                | order_id          | Идентификатор заказа-наряда         |
| order_employee    | Сотрудники заказа-наряда       | order_id          | Идентификатор заказа-наряда         |
|                   |                                | employee_id       | Идентификатор сотрудника            |
| dim_employee      | Справочник сотрудников         | employee_id       | Идентификатор сотрудника            |
|                   |                                | work_location_id  | Идентификатор места работы          |
|                   |                                | rank_id           | Идентификатор ранга (специальность) |
|                   |                                | date_start        | Дата зачисления в штат              |
|                   |                                | date_end          | Дата увольнения                     |
|                   |                                | first_name        | Имя                                 |
|                   |                                | last_name         | Фамилия                             |
| dim_rank          | Справочник специальностей      | rank_id           | Идентификатор ранга (специальность) |
|                   |                                | rank_name         | Наименование специальности          |


**Связи**

| Сущность_1        | Ключ связи                   | Сущность_2        | Тип связи |
| ----------------- | ---------------------------- | ----------------- | --------- |
| order             | order_id                     | order_items_count | 1:M       |
| order             | order_id                     | order_work_time   | 1:M       |
| order             | order_id                     | order_work_type   | 1:M       |
| order             | order_id                     | order_employee    | 1:M       |
| order_work_time   | employee_id                  | dim_employee      | M:1       |
| order_work_time   | work_type_id                 | dim_work_type     | M:1       |
| dim_work_type     | work_type_id                 | order_work_type   | 1:M       |
| order_employee    | employee_id                  | dim_employee      | M:1       |
| dim_employee      | rank_id                      | dim_rank          | M:1       |
| order_items_count | item_id                      | items_count       | M:M       |
| items_count       | item_id                      | dim_items         | M:1       |
| items_count       | storage_id                   | dim_storage       | M:1       |
| dim_storage       | storage_id                   | dim_workshop      | 1:1       |
| dim_workshop      | workshop_id                  | order             | 1:M       |
| dim_client        | client_id                    | order             | 1:M       |
| dim_client        | client_id                    | dim_car           | 1:M       |
| dim_car           | car_id                       | order             | 1:M       |
| dim_employee      | work_location_id:storage_id  | dim_storage       | 1:1       |
| dim_employee      | work_location_id:workshop_id | dim_workshop      | 1:1       |
